if [[ $1 && $1 = "off" ]]; then  
    local proxy=  
fi  

# using on or there is a response from ping set it  
if [[ $1 && $1 = "on" ]] then  
    local proxyset=http://proxy-bos-v.fmr.com:8000
fi  

if [ $1 ]; then  
    export proxy=$proxyset  
    export http=$proxyset  
    export HTTP_PROXY=$proxyset  
    export HTTPS_PROXY=$proxyset  
    export http_proxy=$proxyset  
    export https_proxy=$proxyset  
    export RSYNC_PROXY=$proxyset  
    export ALL_PROXY=$proxyset  

    if [ $proxyset ]; then  
        npm config set proxy $proxyset  
        npm config set http-proxy $proxyset  
        npm config set https-proxy $proxyset  
    else  
        npm config delete proxy  
        npm config delete http-proxy  
        npm config delete https-proxy  
    fi  
fi  

echo "proxy is set to '$http_proxy'"  